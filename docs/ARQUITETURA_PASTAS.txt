================================================================================
                    ARQUITETURA DE PASTAS - LLM_defects4j_TCC
================================================================================

## ESTRUTURA GERAL

LLM_defects4j_TCC/
â”œâ”€â”€ docs/                    # ğŸ“– DocumentaÃ§Ã£o
â”œâ”€â”€ scripts/                 # ğŸ Scripts de execuÃ§Ã£o
â”œâ”€â”€ src/                     # ğŸ“¦ CÃ³digo modular
â”œâ”€â”€ dados/                   # ğŸ’¾ RepositÃ³rios clonados
â”œâ”€â”€ outputs/                 # ğŸ“Š Resultados gerados
â”œâ”€â”€ .env                     # âš™ï¸ ConfiguraÃ§Ãµes
â”œâ”€â”€ requirements.txt         # ğŸ“‹ DependÃªncias
â””â”€â”€ README.md                # ğŸ“„ Index geral

================================================================================
                              ğŸ“– docs/ - DocumentaÃ§Ã£o
================================================================================

docs/
â”œâ”€â”€ README.md                    # Ãndice de documentaÃ§Ã£o
â”œâ”€â”€ ARQUITETURA_SIMILARIDADE.md  # Como funciona a detecÃ§Ã£o
â””â”€â”€ OLLAMA_SETUP.md             # ConfiguraÃ§Ã£o do LLM

PropÃ³sito: DocumentaÃ§Ã£o tÃ©cnica e guias de uso

================================================================================
                            ğŸ scripts/ - Scripts Principais
================================================================================

scripts/
â”œâ”€â”€ README.md              # Guia dos scripts
â”œâ”€â”€ pipeline.py           # ğŸ¯ PASSO 1: DetecÃ§Ã£o de bugs
â”œâ”€â”€ classify.py           # ğŸ¯ PASSO 2: ClassificaÃ§Ã£o com LLM
â”œâ”€â”€ report_markdown.py    # ğŸ“„ PASSO 3: Gera relatÃ³rio MD
â”œâ”€â”€ report_html.py        # ğŸŒ PASSO 3: Gera relatÃ³rio HTML
â””â”€â”€ monitor.py            # ğŸ“Š Monitora classificaÃ§Ã£o em tempo real

PropÃ³sito: Scripts executÃ¡veis para rodar o pipeline

Fluxo:
  1. pipeline.py â†’ Detecta bugs â†’ Salva em outputs/results.json
  2. classify.py â†’ Classifica com LLM â†’ Atualiza outputs/results_with_llm.json
  3. report_markdown.py â†’ Gera outputs/relatorio_llm.md
  4. report_html.py â†’ Gera outputs/relatorio_visual.html

================================================================================
                           ğŸ“¦ src/ - CÃ³digo Modular
================================================================================

src/
â”œâ”€â”€ extractors/              # ğŸ“¥ ExtraÃ§Ã£o de features
â”‚   â”œâ”€â”€ java_parser.py       #   - Faz parsing de mÃ©todos Java com javalang
â”‚   â”œâ”€â”€ feature_extractor.py #   - Extrai AST, control flow, tokens, etc
â”‚   â””â”€â”€ __init__.py
â”‚
â”œâ”€â”€ matchers/                # ğŸ¯ LÃ³gica de detecÃ§Ã£o
â”‚   â”œâ”€â”€ pattern_library.py    #   - Define 6 padrÃµes Defects4J
â”‚   â”œâ”€â”€ signature_generator.py#   - Cria assinaturas dos padrÃµes
â”‚   â”œâ”€â”€ similarity_matcher.py #   - Calcula similaridade multi-dimensional
â”‚   â””â”€â”€ __init__.py
â”‚
â”œâ”€â”€ pipelines/               # ğŸ”„ OrquestraÃ§Ã£o
â”‚   â”œâ”€â”€ detection_pipeline.py #   - Orquestra: clone â†’ extraÃ§Ã£o â†’ matching
â”‚   â””â”€â”€ __init__.py
â”‚
â”œâ”€â”€ utils/                   # ğŸ› ï¸ UtilitÃ¡rios
â”‚   â”œâ”€â”€ repo_cloner.py       #   - Clona repositÃ³rios Git
â”‚   â””â”€â”€ __init__.py
â”‚
â””â”€â”€ __init__.py

PropÃ³sito: CÃ³digo reutilizÃ¡vel separado por responsabilidade

DependÃªncias entre mÃ³dulos:
  scripts/pipeline.py
      â†“
  detection_pipeline.py (orquestra todo processo)
      â”œâ†’ repo_cloner.py (clona repo)
      â”œâ†’ java_parser.py (extrai mÃ©todos)
      â”œâ†’ feature_extractor.py (extrai features de cada mÃ©todo)
      â”œâ†’ pattern_library.py (define padrÃµes)
      â”œâ†’ signature_generator.py (cria assinaturas)
      â””â†’ similarity_matcher.py (calcula scores)

================================================================================
                       ğŸ’¾ dados/ - RepositÃ³rios Clonados
================================================================================

dados/
â””â”€â”€ defects4j/               # RepositÃ³rio Git clonado
    â”œâ”€â”€ .git/
    â”œâ”€â”€ framework/
    â”œâ”€â”€ projects/
    â””â”€â”€ ...arquivos Java

PropÃ³sito: Armazena o repositÃ³rio clonado para anÃ¡lise
Gerado por: scripts/pipeline.py â†’ repo_cloner.py

================================================================================
                        ğŸ“Š outputs/ - Resultados Gerados
================================================================================

outputs/
â”œâ”€â”€ results.json                  # Resultados brutos (50 bugs)
â”œâ”€â”€ results.csv                   # Formato tabular
â”œâ”€â”€ results_with_llm.json         # Resultados + classificaÃ§Ã£o LLM
â”œâ”€â”€ defects4j_signatures.json     # PadrÃµes usados na detecÃ§Ã£o
â”œâ”€â”€ relatorio_llm.md             # RelatÃ³rio legÃ­vel em Markdown
â”œâ”€â”€ relatorio_visual.html        # RelatÃ³rio interativo com grÃ¡ficos
â””â”€â”€ ExplicacaoResultsWithLLM.txt # ExplicaÃ§Ã£o detalhada do formato

PropÃ³sito: Armazena todos os resultados da anÃ¡lise
Gerados por:
  - pipeline.py â†’ results.json, results.csv, defects4j_signatures.json
  - classify.py â†’ results_with_llm.json
  - report_markdown.py â†’ relatorio_llm.md
  - report_html.py â†’ relatorio_visual.html

================================================================================
                      âš™ï¸ FLUXO DE DADOS COMPLETO
================================================================================

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    PIPELINE COMPLETO                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

1ï¸âƒ£  PIPELINE.PY
    github.com/rjust/defects4j.git
            â†“
    dados/defects4j/ (clonado)
            â†“
    Extrai 215 mÃ©todos Java
            â†“
    Feature Extraction (AST, control flow, etc)
            â†“
    Calcula similaridade contra 6 padrÃµes
            â†“
    outputs/results.json (50 bugs)
    outputs/results.csv
    outputs/defects4j_signatures.json

2ï¸âƒ£  CLASSIFY.PY
    outputs/results.json
            â†“
    Para cada bug:
      - Envia para LLaMA via Ollama
      - ObtÃ©m classificaÃ§Ã£o + confianÃ§a
            â†“
    outputs/results_with_llm.json (50 bugs + LLM)

3ï¸âƒ£  REPORT_MARKDOWN.PY
    outputs/results_with_llm.json
            â†“
    Gera relatÃ³rio em Markdown
            â†“
    outputs/relatorio_llm.md

4ï¸âƒ£  REPORT_HTML.PY
    outputs/results_with_llm.json
            â†“
    Gera grÃ¡ficos e tabelas
            â†“
    outputs/relatorio_visual.html

================================================================================
                    ğŸ“‹ RESUMO DAS RESPONSABILIDADES
================================================================================

PASTA              â”‚ RESPONSABILIDADE        â”‚ INPUT              â”‚ OUTPUT
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
docs/              â”‚ DocumentaÃ§Ã£o            â”‚ -                  â”‚ Guias tÃ©cnicos
scripts/           â”‚ ExecuÃ§Ã£o                â”‚ CÃ³digo do src/     â”‚ Arquivos de saÃ­da
src/extractors     â”‚ Parse de Java           â”‚ .java files        â”‚ Features estruturais
src/matchers       â”‚ DetecÃ§Ã£o de bugs        â”‚ Features+PadrÃµes   â”‚ Scores similaridade
src/pipelines      â”‚ OrquestraÃ§Ã£o            â”‚ RepositÃ³rio Git    â”‚ Results.json
src/utils          â”‚ UtilitÃ¡rios             â”‚ URLs Git           â”‚ RepositÃ³rio local
dados/             â”‚ Dados brutos            â”‚ Pipeline output    â”‚ Repo clonado
outputs/           â”‚ Resultados              â”‚ Scripts            â”‚ JSON, CSV, HTML, MD

================================================================================
                        ğŸ”„ CICLO DE EXECUÃ‡ÃƒO
================================================================================

# LIMPEZA
rm -rf dados/* outputs/*

# EXECUÃ‡ÃƒO
python scripts/pipeline.py        # Gera results.json
python scripts/classify.py        # Gera results_with_llm.json
python scripts/report_markdown.py # Gera relatorio_llm.md
python scripts/report_html.py     # Gera relatorio_visual.html

# RESULTADOS FINAIS
outputs/relatorio_llm.md     â† Ler aqui
outputs/relatorio_visual.html â† Abrir no navegador

================================================================================
